name: build the freaking game
on: push
jobs:
  build-project:
    name: build the project
    runs-on: ubuntu-latest
    steps:
    - name: Checkout the repository
      uses: actions/checkout@v4
    - name: Install NPM dependencies
      run: npm install
    - name: Build project assets
      run: npm run build
    - name: Upload static site content
      uses: actions/download-artifact@v4
      with:
        name: site
        path: _site
        merge-multiple: true
        github_token: ${{ secrets.GITHUB_TOKEN }}
        repository: ${{ github.repository }}
        run-id: ${{ github.run_id }}

